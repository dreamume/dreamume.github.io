---
layout:     post
title:      "Weekly 087"
subtitle:   "Algorithm: Tallest Billboard; Review: Rebuilding Netflix Video Processing Pipeline with Microservices; Tips: System Design Interview - Notification Service; Share: Welcome to The Mobile Interview"
thumbnail-img: ""
date:       2024-01-12 21:10
author:     "dreamume"
tags: 		[it]
category:   it
---
<head>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
</head>

# Table of Contents

1.  [Algorithm](#orga96aa88)
2.  [Review](#org3097946)
    1.  [从 Reloaded 到 Cosmos](#orgb2bb611)
        1.  [重加载](#org8036a36)
        2.  [Cosmos](#org86d4f76)
3.  [Tips](#org4edda99)
4.  [Share](#org9f8f036)


<a id="orga96aa88"></a>

# Algorithm

Leetcode 956: [Tallest Billboard](https://leetcode.com/problems/tallest-billboard/)

<https://dreamume.medium.com/leetcode-956-tallest-billboard-1a37590b7f0c>


<a id="org3097946"></a>

# Review

[Rebuilding Netflix Video Processing Pipeline with Microservices](https://netflixtechblog.com/rebuilding-netflix-video-processing-pipeline-with-microservices-4e5e6310e359)

这是 Netflix 如何用微服务重建它的视频处理流水线系列文章的第一篇，所以我们可维护我们小步快速革新和对成员流和视频操作持续改进系统。本篇介绍文章聚焦于整体的概述。后续的文章将提供更深入到每个服务、共享前景和课程学习

Netflix 视频处理流水线从 2007 年在直播中启动我们的流服务。从此，视频流水线的运行有了显著的改进和更广的扩展：

-   在标准定义上从标准动态范围（SDR）开始，我们扩展编码流水线到 4K 和高动态范围（HDR），其启动支持我们的优质提供
-   我们从集中线性编码到分布式块编码。这个架构改动极大地缩减了处理延时和增加了系统适应性
-   从被质量限制的修饰实例移除，我们采用 Netflix 由自动扩展微服务创建内部低点，使得计算弹性和资料利用率有了重要的改进
-   我们首次发布革新比如每标题和每影片优化，对 Netflix 成员提供重要的质量体验（QoE）改进
-   通过集成操作内容系统，我们启动流水线从创新性和创建更紧密成员体验比如交互式故事叙述来杠杆富元数据
-   我们扩展流水线支持来服务我们的操作/内容开发用户事例，其有不同的延时和适应性需求相比较传统的流用户事例

我们最近十多年经验加强了我们的确信，一个高效、灵活的视频处理流水线允许我们革新和支持我们的流服务，和我们的操作合作者，对 Netflix 持续成功是重要的。最后，视频和图像编码团队在编码技术（ET）用最近几年重建了视频处理流水线在我们的下一代基于微服务的技术平台 Cosmos 上


<a id="orgb2bb611"></a>

## 从 Reloaded 到 Cosmos


<a id="org8036a36"></a>

### 重加载

从 2014 年开始，我们在我们的第三代平台 Reloaded 上发展并操作视频处理流水线。Reloaded 是良好架构、提供好的稳定性、扩展性和灵活性的合理水平。它被我们的团队发展作为各种编码革新的基础

当 Reloaded 被设计时，我们聚焦在单个用户用例：转换从操作室接收到的高质量媒体文件压缩为 Netflix 流资产。Reloaded 作为单个单调增长系统被创建，ET 中各个媒体团队开发者和我们的平台合作方内容架构和解决方案（CIS）工作在相同的代码上，构建单个系统处理所有媒体资产。数年后，系统扩展支持各种新的用户用例。这导致系统复杂度显著增长，且 Reloaded 的限制开始显示：

-   耦合的功能：Reloaded 由一组工作模块和一个协作模块组成。新的 Reloaded 模块建立和对写作模块的集成需要化不小的功夫，导致对参数而不是开发新功能创建的偏见。例如，在 Reloaded 中视频质量计算实现在视频编码模块内部。对这个实现，它在不重编码下很难重计算视频质量
-   单调增长结构：因为 Reloaded 模块经常在相同仓库下重定位，它容易忽视代码隔离规则且有跨强边界的不想要重用的代码。这样的重用导致高耦合且减慢开发速度。模块间高耦合进一步使得我们把所有模块弄在一起
-   长发布周期：开发节点意味着对这个开发规模调试和回滚很困难，增长了对不想要的产品出现运行终端的恐惧。这驱使了发布训练处理。每两周，制作一个所有模块的快照，并晋升为发布替补。这个发布替补然后执行全面地测试来尝试覆盖尽可能多的表面问题。这个测试阶段花费两周。这样，取决于代码什么时候合并，它将耗费两到四周来达到发布状态

随着时间和功能的增长，在 Reloaded 中新特性贡献的速度下降。一些承诺的想法由于过大的工作需要克服架构限制而放弃。平台曾经服务很好但现在发展落后了


<a id="org86d4f76"></a>

### Cosmos

作为响应，在 2018 年 CIS 和 ET 团队开始开发下一代平台，Cosmos。对于已经加入 Reloaded 的开发者的扩展性和稳定性，Cosmos 目标是重要增长系统的灵活性和特性开发速度。为达到这些，Cosmos 作为工作流，媒体中心微服务驱动的计算平台来开发


<a id="org4edda99"></a>

# Tips

[System Design Interview - Notification Service](https://www.youtube.com/watch?v=bBTPZ9NdSk8)

功能性需求：

-   createTopic(topicName)
-   publish(topicName, message)
-   subscribe(topicName, endpoint)


<a id="org9f8f036"></a>

# Share

