---
layout:     post
title:      "Weekly 041"
subtitle:   "Algorithm: Fliptile; Review: A Response to Cheriton and Skeen's Criticism of Causual and Totally Ordered Communication; Tips: Probability Theory in Principles of Discrete Applied Mathematics; Share: Binary Decision Diagrams"
thumbnail-img: ""
date:       2021-06-08 09:00
author:     "dreamume"
tags: 		[it]
category:   it
---
<head>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
</head>

# Table of Contents

1.  [Algorithm](#org5011220)
2.  [Review](#org3706cb2)
    1.  [背景](#org04b7e81)
    2.  [实际中的经验](#org4d9cd07)
3.  [Tips](#org9574eb8)
    1.  [采样空间和事件](#org78514ce)
4.  [Share](#org63e202f)


<a id="org5011220"></a>

# Algorithm

Fliptile: <http://poj.org/problem?id=3279>

<https://dreamume.medium.com/poj-fliptile-d3138796c111>


<a id="org3706cb2"></a>

# Review

A Response to Cheriton and Skeen's Criticism of Causual and Totally Ordered Communication

<https://www.cs.princeton.edu/courses/archive/fall07/cos518/papers/catocs-limits-response.pdf>


<a id="org04b7e81"></a>

## 背景

在给1993 ACM操作系统理论专题研讨会上的论文中，Cheriton和Skeen提供了他们对于无关和总序作为通讯属性的理解。在这篇文章中，我想要展现我在Isis上的工作，及Isis采用的通讯模型。我假设读者熟悉Cheriton Sheen的论文，且他们使用的并发顺序的结构

Isis不是Cheriton和Skeen讨论的使用无关和总序属性的唯一的系统，还有很多项目的研究者使用相似的技术。然而，我将主要介绍Isis，当我阅读Cheriton/Skeen的讨论，它似乎显示在他们的论文中使用CATOCS作为其同义词

我想要做几个主要论点：

-   虽然以学术术语呈现，Skeen和Cheriton在系统中有一个商机称为TIB $ (tm)<sup>2</sup> $，其和Isis分布式工具(tm)及Isis分布式新系统(tm)是竞争关系。这样，在他们想法的背后有一个商业产品。我提及这个不是对他们论文的指责，而是提供一个利益冲突。Cheriton和Skeen使用他们的观点来赚钱，但贬低Isis产品的特性，就像我通过讨论这些特性的有用性来获利一样。这个会扭曲我们的讨论吗？有可能的风险在利益冲突的地方，我将把它交给学术社区来获得结论
-   我的工作基于我过去的讨论，而有一些没有呈现在讨论中，可能导致结果不完整和版本扭曲。我想建议Cheriton和Skeen创造场合来看一下Isis的虚拟同步方面，讨论它们在CATOCS顺序中的价值。但他们指出这些问题包含顺序和可靠性的综合，且CATOCS是不适应的。特别地，他们引入交易强烈建议CATOCS主要支持交易应用程序的构建
-   即使把Cheriton和Skeen的论文放在它固有的地方，呈现地争论通常也是不完整的，因此有误导。例如，当这些作者引入纯顺序问题，他们通过使用应用程序特定语义顺序属性。其相信典型用户有相同的顺序目标集，系统的意图是实现用户的编程模型。事实是顺序问题通常导致编程风格包含异步通讯，系统主要的原因是担心消息顺序会减少用户可见设计复杂度且因此增加可靠性
-   一些争议很激烈，比如CATOCS不能维持一致“弹性”数据结构，且声称在缓存空间跟系统大小的函数一样的二次方增长，是错误的。在这方面，Cheriton和Skeen的二次方增长现象在典型Isis消息上对应一些字节的时间戳，即使对非常大的进程组平均也许只是12字节的数据。特殊进程的必要负载也相似地较低。这样的负载分析，及一些其他，跟系统像Isis、Transis、Psync、Gossiphe和Amoeba的经验直接矛盾
-   在操作系统社区，性能是一个重要的考虑因素。而Cheriton和Skeen声称CATOCS成本高，他们没有说他们喜欢的交易一致性模型的成本。一致性需要的地方，Isis虚拟同步模型 - 他们没有提及 - 考虑更好的交易和给出强保证除了外带数据。更进一步，我们可容易的在Isis上分层交易，或把它们靠近Isis。这样有三个选择：一个编程模型运行尽可能快，但没有语义（希望用户不会构建一些东西来引入可靠性或一致性），一个进程组编程模型，其可拷贝数据且有其他的一致顺序、容错编程工具，且在CATOCS系统属性中有一个键有非常高的性能，和交易模型，其性能不可避免地被刷新日志到稳定存储成本的限制。通过忽略虚拟同步的引用，Cheriton和Skeen用他们的偏见来支持他们想要得到的结论

这不是秘密，我相信在提供无关和总序的争论上，至少在进程组计算系统中是被排斥的。一个主要原因，Cheriton和Skeen没有谈到，是这种处理（至少当嵌入到一个适当的编程环境）在实现分布式系统中会极大减少复杂度，开发时间和调试效果。我相信甚至有时发生小的性能损失，平均用户更关心有一个简单的方式构建可靠软件而不是在应用程序中有一个通讯协议属性的总控制。Cheriton和Skeen忽略了简单化的收益，标准和处理开发人员失控的困难问题

这种观点有争议也不是个秘密。为挑战它，Cheriton和Skeen收集了一些不需要Isis提供的系统（他们声称他们的例子取材于文献，但大多数跟我了解的论文里的例子非常不同）。他们丢失了Isis发展的整个系统类。为对应他们引入的可靠性问题，他们这么做而不提及Isis虚拟同步模型这个关键的方面，导致他们得到结论“CATOCS顺序属性对这些问题是不适应的“。Isis处理比CATOCS顺序属性更能容忍可靠性问题，这个观点被Cheriton和Skeen完全忽略。这个的一个好例子是由于原子多播协议不一致的输出导致无关离开分割的失败。Isis防止了这个问题，而这在Cheriton和Skeen的处理中检测和处理都非常困难

为减少Isis相对于CATOCS的争议，Cheriton和Skeen简单丢弃了整个观点，当组合一个适当的执行模型，CATOCS是一个有价值的工具改善分布式系统性能和简化用户编程环境。也许CATOCS顺序限制了RPC编程在不一致的情况下的价值，或在纯交易环境中。但在这些极端依赖高可用性、高性能和一致性的分布式计算模型中，提供给开发者的选项在其他情况下并不有效


<a id="org9574eb8"></a>

# Tips

Probability Theory

<http://math.mit.edu/~goemans/18310S15/probability-notes.pdf>


<a id="org78514ce"></a>

## 采样空间和事件

为处理概率，我们定义一个采样空间S，其元素为某些进程或实验可能的输出。例如，采样空间可能为一个骰子的输出，或抛硬币。对采样空间的每个元素，我们赋值一个概率，为0到1之间的非负数，我们记为p(x)，我们需要

$ \\sum_ {x \\in S}p(x) = 1 $

这样我们采样空间元素的总概率为1。这意味着当我们执行我们的进程，我们采样空间中的一个将发生

**例子** 采样空间可为 $ S = \\{a, b, c\\} $，且概率可为p(a) = 1/2, p(b) = 1/3, p(c) = 1/6

如果我们采样空间中的所有元素有相同的概率，我们称为我们采样空间中的统一概率分布。例如，如果我们采样空间为骰子输出，采样空间可记为 $ S = \\{x_ {1}, x_ {2}, \\ldots, x_ {6} \\} $，事件 $ x_ {i} $对应值i。统一分布，每个输出 $ x_ {i} $对应公平的骰子有1/6的概率。相似地，如果我们考虑抛一个公平的硬币，输出为H（头）和T（尾），每个概率为1/2。在这种情况下我们有统一概率分布S = {H, T}

我们定义一个事件A为采样空间的子集。例如，在投骰子中，如果事件A为偶数，则 $ A = \\{x_ {2}, x_ {4}, x_ {6} \\} $。事件A的概率记为 $ \\mathbb{P}(A) $，为采样空间对应元素概率的和。对此我们有

$ \\mathbb{P}(A) = p(x_ {2}) + p(x_ {4}) + p(x_ {6}) = \\frac{1}{2} $

给定一个我们采样空间中的事件A，有一个补事件对应采样空间中不在A中的所有点。我们记为事件 $ \\neg A $。因为采样空间所有点相加为1，我们有

$ \\mathbb{P}(A) + \\mathbb{P}(\\neg A) = \\sum_ {x \\in A}p(x) + \\sum_ {p \\notin A}p(x) = \\sum_ {x \\in S}p(x) = 1 $

这样 $ \\mathbb{P}(\\notin A) = 1 - \\mathbb{P}(A) $

注意：虽然我们采样空间的两个元素不能同时发生，两个事件可以同时发生。即，如果我们定义A为投出来为偶数，且B为投出来是小数（1，2或3），则它可能对A和B都发生（投出来是2）,都不发生（投出来是5），或其中一个发生。我们称A和B都发生为"A and B“，记为$ A \\land B $（或有时为 $ A \\cap B $），且事件A或B至少一个发生为"A or B"，记为 $ A \\lor B $（或有时为 $ A \\cup B $）

![img](../img/probability_of_events_A_and_B.png)

假设我们有两个事件A和B。他们分割我们的采样空间为4个不相交的部分，对应两个事件发生，一个事件发生另一个事件不发生和两个都不发生。如上图。这些情况覆盖了整个采样空间，对每个元素只发生一次，这样我们得到

$ \\mathbb{P}(A \\land B) + \\mathbb{P}(A \\land \\notin B) + \\mathbb{P}(\\notin A \\land B) + \\mathbb{P}(\\notin A \\land \\notin B) = 1 $


<a id="org63e202f"></a>

# Share

Binary Decision Diagrams

<https://crypto.stanford.edu/pbc/notes/zdd/>

看一张美国大陆的地图，考虑如下问题：

假设你想要通过高速公路访问每个州立法机构一次，怎样才是最短？怎样才是最长？所有路的平均方差和标准方差是什么？

定义州的权重，例如，通过读前两个字母作为以36为基的数。找到州的集合使得集合中没有两个元素相邻，且总权重最大

有一些方法对地图着色使得相邻的州不会有相同的颜色。如果颜色有权重2，3，5和7，怎样着色有最少的权重？

或考虑：

你如何覆盖棋盘使用 $ 1 \\times 1, 2 \\times 1, 3 \\times 1 $方框？如果我们也有类似 $ 2 \\times 2 $的方盒其中一块丢失？

列出所有5字母单词，其替代一个b为o仍然是单词

我们如何有效地解决这些问题？

