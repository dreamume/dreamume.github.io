---
layout:     post
title:      "Weekly 036"
subtitle:   "Algorithm: ; Review: ; Share: Red-Black Tree in introduction to algorithms"
thumbnail-img: ""
date:       2021-02-12 14:00
author:     "dreamume"
tags: 		[it]
category:   it
---
<head>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
</head>

# Table of Contents

1.  [Algorithm](#org6aee94e)
2.  [Review](#org4d79028)
3.  [Tips](#org40dbc23)
4.  [Share](#orgd704316)
    1.  [红黑树属性](#orge5f4ef6)


<a id="org6aee94e"></a>

# Algorithm

Leetcode 352: 


<a id="org4d79028"></a>

# Review


<a id="org40dbc23"></a>

# Tips

-   


<a id="orgd704316"></a>

# Share

《算法导论》第13章 红黑树

之前看了一遍，全忘了，再复习一遍

前面章节显示一个高度为h的二叉搜索树支持任意基本动态集操作 - 比如搜索、前节点、后节点、最大值、最小值、插入和删除为O(h)时间复杂度。这样，集合操作很快如果搜索树的高度较小的话。如果高度很高，集合操作可能运行不比链表快。红黑树是许多搜索树解决方案的一种，它是平衡的为了确保基本动态集操作在最坏的情况下有O(lgn)的时间复杂度


<a id="orge5f4ef6"></a>

## 红黑树属性

一个红黑树是一个二叉搜索树，每个节点额外带一个比特的存储：它的颜色，红色或黑色。通过限制从根到叶子的任意简单路径上的节点颜色，红黑树确保这样的路径不会比别的路径的长度超过两倍，这样该树是大约平衡的

树上每个节点现在包含属性颜色、键、左、右和父，如果一个节点的一个孩子或父不存在，对应的节点指针属性包含值NIL。我们将视这些NIL为指针到二叉搜索树叶子（额外节点）及正常，携带键的节点为树的内部节点

一个红黑树是一个二叉树满足如下红黑树属性：

1.  每个节点要么红色要么黑色
2.  根节点是黑色
3.  每个叶子（NIL）是黑色
4.  如果一个节点是红色，则它的两个孩子节点是黑色
5.  对每个节点，从这个节点到其叶子节点所含的所有简单路径有相同数目的黑色节点

为了方便处理红黑树代码的边界条件，我们使用一个单个守卫符来代表NIL。对红黑树T，守卫符T.nil是一个和树中普通节点有相同属性的对象。它的颜色属性是黑色，它的其他属性 - 父、左、右和键可为任意值。所有指向NIL的指针被替换为指向守卫符T.nil

我们使用守卫符使得我们可处理节点x的一个NIL孩子节点作为父节点为x的普通节点。虽然我们在树中对每个NIL可以添加不同的守卫节点，这样每个NIL节点的父是良好定义的，但这样处理会浪费空间。我们使用一个守卫符T.nil代表所有的NILs - 所有叶子和根的父。守卫符父、左、右和键值可忽略，虽然我们在方便的时候可设置它们

我们一般限制我们的兴趣点在红黑树的内部节点，因为它们持有键值。在本章的剩下部分，当我们画红黑树时我们忽略叶子

我们称任意简单路径上黑色节点的数目，不包括节点x本身，从节点x到其叶子结点中的黑节点，记为bh(x)。我们定义红黑树的黑色高度为它根节点的黑色高度

**引理** 有n个内部节点的红黑树有高度最多2lg(n + 1)

证明：我们已显示在任意节点x为根的子树包含至少 $ 2^{hb(x)} - 1 $个内部节点开始。我们通过在x的高度上用归纳法证明。如果x的高度是0，则x必须为叶子（T.nil），且以x为根的子树包含至少 $ 2^{bh(x)} - 1 = 2^{0} - 1 = 0 $个内部节点。考虑一个节点有正数的高度且是有两个孩子节点的内部节点。每个孩子有一个黑色高度要么bh(x)或bh(x) - 1，取决于是否它的颜色是红或黑。因为x的孩子的高度小于x本身的高度，我们可应用归纳假设使每个孩子有至少 $ 2^{bh(x) - 1} - 1 $个内部节点。这样，x为根的子树包含至少 $ (2^{bh(x) - 1} - 1) + (2^{bh(x) - 1} - 1) + 1 = 2^{bh(x)} - 1个内部节点

为完成引理的证明，设h为树的高度。则从根到叶子的任意路径上至少一半的节点，不包含根，必须为黑色。结论，根的黑色高度必须至少h / 2，这样

$ \\begin{equation} n \\ge 2^{\\frac{h}{2}} - 1 \\end{equation} $

规整一下该该公式，可得 $ \\lg (n + 1) \\ge \\frac{h}{2} 或 h \\le 2 \\lg (n+1) $

